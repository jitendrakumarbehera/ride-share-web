import{a as q}from"./chunk-35OPR62A.js";import{a as v}from"./chunk-7XBSCFVB.js";import{D as c,G as u,Ga as F,H as y,Ha as x,I as E,Ia as V,Ja as h,La as T,Ma as j,Na as g,O as p,Oa as H,P as e,Pa as A,Q as t,R as a,Ra as G,Ua as I,W as S,Wa as L,_a as N,b as k,bb as R,da as i,db as f,eb as z,fb as D,l as w,o as M,u as m,v as d,za as C}from"./chunk-BFEUN2P3.js";var U=(()=>{let o=class o{constructor(n,l,r,b){this.router=n,this.fb=l,this.srApiClient=r,this.rideStore=b,this.destroy$=new k,this.isFormSubmited=!1,this.validationMessages=q,this.createForm()}pageLink(n){this.router.navigate([n])}onSubmit(){if(this.loginForm.invalid){console.log(this.loginForm),this.loginForm.markAllAsTouched(),v.scrollToFirstInvalidControl(this.loginForm);return}this.isFormSubmited||this.srApiClient.signInAccount({emailId:this.loginForm.value?.email,password:this.loginForm.value?.password}).pipe(w(this.destroy$)).subscribe({next:n=>{this.isFormSubmited=!0,this.rideStore.set("JwtToken",n?.JwtToken),this.rideStore.set("signUpData",this.loginForm.value),console.log(n),this.router.navigate(["home"])},error:n=>{this.isFormSubmited=!1,console.log(n)}})}createForm(){this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required]],rememberMe:[!1]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};o.\u0275fac=function(l){return new(l||o)(u(F),u(R),u(f),u(h))},o.\u0275cmp=y({type:o,selectors:[["sr-sign-in"]],standalone:!1,decls:65,vars:5,consts:[[1,"auth-page"],["id","login-page",1,"page"],[1,"back-btn","back-to-home",3,"click"],["width","20","height","20","fill","none","stroke","currentColor","viewbox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-logo"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form"],[1,"social-login","d-none"],[1,"btn-social"],["width","18","height","18","viewbox","0 0 24 24"],["fill","#4285f4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34a853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#fbbc05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#ea4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],["width","18","height","18","viewbox","0 0 24 24","fill","#1877f2"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],[1,"auth-divider"],[1,"signup-toggle"],["type","button","id","signup-email-btn",1,"active"],["width","16","height","16","fill","none","stroke","currentColor","viewbox","0 0 24 24",2,"display","inline-block","margin-right","4px","vertical-align","middle"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["type","button","id","signup-phone-btn"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["id","login-form",3,"formGroup"],[1,"form-group"],["for","login-email",1,"form-label-auth"],["type","email","id","login-email","placeholder","Enter your email","formControlName","email","required","",1,"form-control-auth"],["for","email",3,"messages"],["for","login-password",1,"form-label-auth"],["type","password","id","login-password","placeholder","Enter your password","formControlName","password","required","",1,"form-control-auth"],["for","password",3,"messages"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"form-check"],["type","checkbox","formControlName","rememberMe","id","remember-me",1,"form-check-input"],["for","remember-me",1,"form-check-label","small","text-muted"],["for","rememberMe",3,"messages"],["href","#",1,"auth-link","small"],["type","button","id","login-submit",1,"btn-auth-primary",3,"click","disabled"],[1,"text-center","mt-4"],[1,"text-muted","small"],["routerLink","/signup","id","switch-to-signup",1,"auth-link"]],template:function(l,r){l&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),S("click",function(){return r.pageLink("home")}),m(),e(3,"svg",3),a(4,"path",4),t()(),d(),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),i(9," RS "),t(),e(10,"h1",9),i(11,"Welcome Back"),t(),e(12,"p",10),i(13,"Sign in to your RideShare Connect account"),t()(),e(14,"div",11)(15,"div",12)(16,"button",13),m(),e(17,"svg",14),a(18,"path",15)(19,"path",16)(20,"path",17)(21,"path",18),t(),i(22," Google "),t(),d(),e(23,"button",13),m(),e(24,"svg",19),a(25,"path",20),t(),i(26," Facebook "),t()(),d(),e(27,"div",21)(28,"span"),i(29,"or continue with email"),t()(),e(30,"div",22)(31,"button",23),m(),e(32,"svg",24),a(33,"path",25),t(),i(34," Email "),t(),d(),e(35,"button",26),m(),e(36,"svg",24),a(37,"path",27),t(),i(38," Phone "),t()(),d(),e(39,"form",28)(40,"div",29)(41,"label",30),i(42,"Email Address"),t(),a(43,"input",31)(44,"sr-validation-message",32),t(),e(45,"div",29)(46,"label",33),i(47,"Password"),t(),a(48,"input",34)(49,"sr-validation-message",35),t(),e(50,"div",36)(51,"div",37),a(52,"input",38),e(53,"label",39),i(54," Remember me "),t()(),a(55,"sr-validation-message",40),e(56,"a",41),i(57,"Forgot password?"),t()(),e(58,"button",42),S("click",function(){return r.onSubmit()}),i(59," Sign In "),t()(),e(60,"div",43)(61,"span",44),i(62,"Don't have an account? "),t(),e(63,"a",45),i(64,"Sign up"),t()()()()()()()),l&2&&(c(39),p("formGroup",r.loginForm),c(5),p("messages",r.validationMessages.email),c(5),p("messages",r.validationMessages.password),c(6),p("messages",r.validationMessages.rememberMe),c(3),p("disabled",r.loginForm.invalid||r.isFormSubmited))},dependencies:[G,j,T,H,A,N,I,L,z,x],encapsulation:2});let s=o;return s})();var $=[{path:"",component:U}],le=(()=>{let o=class o{};o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=E({type:o}),o.\u0275inj=M({providers:[f,v,h],imports:[C,D,V.forChild($)]});let s=o;return s})();export{le as SignInModule};
